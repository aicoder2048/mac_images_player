# QiQi Player

一款精美的 macOS 图片幻灯片播放器，支持背景音乐，基于 PyQt6 构建。

## 功能特性

### 多图片显示
- 垂直布局同时显示多张图片
- 可配置显示窗格数量：2-4 张图片（默认：3）
- 平滑的淡入淡出过渡效果
- 每个图片槽独立运行，随机时间间隔（3-5 秒）
- 自动缩放图片并保持宽高比

### 图片固定/取消固定
- 点击任意图片可将其固定
- 固定的图片在幻灯片播放期间不会更换
- 视觉指示器显示固定状态
- 再次点击可取消固定并恢复轮播

### 播放控制
- **空格键**：暂停/恢复图片和音乐
- 同步控制 - 暂停时会同时停止幻灯片和背景音乐
- 恢复时返回到之前的状态

### 背景音乐
- 连续背景音乐播放，支持自动循环
- 支持常见音频格式（MP3, WAV, OGG）
- 音乐在整个幻灯片过程中无缝播放

### 历史记录功能
- **图片历史**：自动循环播放所选文件夹中的所有图片
- **音乐历史**：通过菜单快速访问最近播放的音乐文件
- 无需重启即可切换不同的背景音轨

### 其他功能
- 全屏模式（F11 切换，ESC 退出）
- 为图片查看优化的深色主题
- 简洁现代的界面，最少的干扰

## 安装

### 系统要求
- macOS
- Python 3.13 或更高版本
- [uv](https://github.com/astral-sh/uv) 包管理器

### 安装 uv（如果尚未安装）
```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```

### 克隆和设置
```bash
# 克隆仓库
git clone <repository-url>
cd Player

# 使用 uv 安装依赖
uv sync
```

## 使用方法

### 运行应用程序
```bash
# 使用 uv 运行
uv run python main.py
```

### 首次启动
1. 选择图片目录
2. 选择背景音乐文件（可选）
3. 设置显示图片数量：2-4 个垂直窗格（默认：3）
4. 点击确定开始播放幻灯片

### 键盘快捷键
- **空格键**：暂停/恢复幻灯片和音乐
- **F11**：切换全屏模式
- **ESC**：退出全屏
- **Ctrl+Q**：退出应用程序

### 鼠标控制
- **点击图片**：固定/取消固定该图片
- **菜单栏**：访问音乐选择和其他选项

## 项目结构
```
Player/
├── main.py              # 入口文件
├── src/
│   ├── config_dialog.py # 初始配置对话框
│   ├── main_window.py   # 主应用程序窗口
│   ├── image_viewer.py  # 图片显示逻辑
│   └── music_player.py  # 音频播放
├── utils/
│   ├── animation_utils.py
│   └── image_utils.py
├── images/              # 默认图片目录
└── music/               # 默认音乐目录
```

## 开发

### 以开发模式安装
```bash
uv pip install -e .
```

### 依赖项
- **PyQt6**：GUI 框架
- **Pygame**：音频播放
- **Pillow**：图片处理

## 使用提示
- 为获得最佳效果，请使用高分辨率图片
- 将所有图片放在单个目录中
- 支持的图片格式：JPG, JPEG, PNG, BMP, GIF
- 播放器会记住您的音乐选择历史

## 许可证
本项目是开源的，采用 MIT 许可证。